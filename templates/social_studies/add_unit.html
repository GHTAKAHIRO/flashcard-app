{% extends "base.html" %}

{% block title %}単元追加 - 社会科管理{% endblock %}

{% block content %}
<div class="mb-4">
    <div class="d-flex justify-content-between align-items-center">
        <div>
            <h2 class="fw-bold">
                <i class="fas fa-plus me-2"></i>単元追加
            </h2>
            <p class="text-muted">{{ textbook.name }}に新しい単元を追加します</p>
        </div>
        <a href="{{ url_for('social_studies_admin_units', textbook_id=textbook.id) }}" class="btn btn-outline-secondary">
            <i class="fas fa-arrow-left me-1"></i>単元一覧に戻る
        </a>
    </div>
</div>

<!-- 教材情報 -->
<div class="card mb-4">
    <div class="card-body">
        <h5 class="card-title">
            <i class="fas fa-book me-2"></i>{{ textbook.name }}
        </h5>
        <div class="row">
            <div class="col-md-4">
                <small class="text-muted">科目</small>
                <div><span class="badge bg-primary">{{ textbook.subject }}</span></div>
            </div>
            <div class="col-md-4">
                <small class="text-muted">学年</small>
                <div>{{ textbook.grade or '未設定' }}</div>
            </div>
            <div class="col-md-4">
                <small class="text-muted">出版社</small>
                <div>{{ textbook.publisher or '未設定' }}</div>
            </div>
        </div>
    </div>
</div>

<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card">
            <div class="card-body">
                <form method="POST">
                    <div class="mb-3">
                        <label for="name" class="form-label">単元名 <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="name" name="name" 
                               placeholder="例: 世界の地域構成" required>
                    </div>
                    
                    <div class="mb-3">
                        <label for="chapter_number" class="form-label">章番号</label>
                        <input type="number" class="form-control" id="chapter_number" name="chapter_number" 
                               min="1" placeholder="例: 1">
                        <div class="form-text">章番号は任意です。設定しない場合は自動的に割り当てられます。</div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="description" class="form-label">説明</label>
                        <textarea class="form-control" id="description" name="description" rows="3" 
                                  placeholder="単元の説明や学習内容を入力してください"></textarea>
                    </div>
                    
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <a href="{{ url_for('social_studies_admin_units', textbook_id=textbook.id) }}" class="btn btn-secondary me-md-2">
                            <i class="fas fa-times me-1"></i>キャンセル
                        </a>
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-save me-1"></i>単元を追加
                        </button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- 入力例 -->
        <div class="card mt-4">
            <div class="card-header">
                <h6 class="mb-0">
                    <i class="fas fa-lightbulb me-2"></i>入力例
                </h6>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6>地理</h6>
                        <ul class="list-unstyled">
                            <li>• 単元名: 世界の地域構成</li>
                            <li>• 章番号: 1</li>
                            <li>• 説明: 世界の地域区分と特色について学習します</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h6>歴史</h6>
                        <ul class="list-unstyled">
                            <li>• 単元名: 古代までの日本</li>
                            <li>• 章番号: 1</li>
                            <li>• 説明: 古代までの日本の歴史について学習します</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %} 